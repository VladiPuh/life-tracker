# HISTORY_LifeTracker_CANON_v1.0_RU

## 1. Назначение экрана History

History — это экран **спокойной ретроспективы**, а не отчётности и не контроля.

Он нужен, чтобы:
- видеть, **что реально происходило**, без интерпретаций;
- замечать **факты движения**, а не идеальность;
- мягко поддерживать продолжение пути.

History не мотивирует, не оценивает и не сравнивает.
History — это зеркало фактов.

---

## 2. Каноническая роль History в продукте

History — вторичный экран.

- Он **не влияет** на Today напрямую.
- Он **не содержит действий**, которые меняют состояние дня.
- Он **не управляет челленджами**.

Today = действие.
History = осознание.

---

## 3. Источник данных (SSOT)

Единственный источник истины для History:

```
GET /history/days
```

Канонический формат ответа:

```json
[
  {
    "date": "YYYY-MM-DD",
    "total": number,
    "min": number,
    "bonus": number,
    "skip": number,
    "fail": number
  }
]
```

History **НЕ** строится:
- из Today;
- из локального состояния;
- из предположений UI.

Backend = SSOT.

---

## 4. Принцип отображения дней

### 4.1 Только существующие дни

History показывает **только дни, в которых были события**.

Запрещено:
- показывать пустые даты;
- показывать «неделю вперёд/назад» без данных;
- создавать визуальный шум ради заполнения экрана.

Отсутствие дня = отсутствие факта.

---

### 4.2 Порядок

- По умолчанию: **последние дни сверху**.
- Никакой бесконечной прокрутки на старте.
- Ограничение по количеству дней задаётся backend.

---

## 5. Семантика статусов в History

History оперирует **агрегированными статусами**, а не действиями.

- `MIN` — факт минимального действия;
- `BONUS` — факт расширенного действия;
- `SKIP` — осознанная пауза;
- `FAIL` — факт невыполнения, без наказания.

Важно:
- `FAIL` **НЕ красный**;
- `SKIP` **НЕ слабость**;
- `MIN` **достаточно**.

History не иерархизирует человека.
History фиксирует реальность.

---

## 6. Визуальные принципы (без конкретного UI)

History визуально:
- тише, чем Today;
- плотнее, чем Today;
- без крупных CTA.

Допустимы:
- компактные чипы;
- числовые маркеры;
- нейтральные оттенки.

Запрещены:
- прогресс-бары;
- проценты выполнения;
- сравнения с «нормой».

---

## 7. Навигация и поведение

- History открывается из нижнего бара.
- History **не ведёт** обратно в Today логикой действий.
- Возврат — только через навигацию.

History — место остановки взгляда.

---

## 8. Edge-кейсы

- Несколько челленджей в день → агрегируются.
- Один челлендж, несколько попыток → учитывается итог дня.
- Отсутствие данных → пустой экран с тихим текстом, без CTA.

---

## 9. Ограничения (жёсткие каноны)

History **НЕ**:
- редактирует прошлое;
- объясняет причины;
- даёт советы;
- предлагает «исправиться».

Любая аналитика — это **отдельный экран** (Insights).

---

## 10. Философский якорь

> History — не про контроль прошлого.
> History — про разрешение быть живым.

---

## 11. Версионирование

- v1.0 — базовый канон, зафиксирован после стабилизации backend `/history/days`.
- Любые изменения — только через явное обсуждение смысла.

---

**Канон зафиксирован.**
