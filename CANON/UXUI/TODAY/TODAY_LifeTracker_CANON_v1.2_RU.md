# TODAY_LifeTracker_CANON_v1.2_RU

> Актуализирован относительно контекста стабилизации backend, исправления статусов и синхронизации с History

---

## 1. Роль экрана Today (уточнено)

Today — **единственный экран действия** в LifeTracker.

Он предназначен для:
- выполнения минимальных действий;
- фиксации факта;
- завершения дня без давления.

Today **не анализирует**, **не сравнивает** и **не интерпретирует**.

---

## 2. Канонический принцип

**Один день = один факт = одно состояние.**

Today работает как очередь:
- всегда **один активный челлендж**;
- после фиксации статуса — переход к следующему;
- когда активных нет — end-state.

Today — линейный и спокойный.

---

## 3. Статусы (уточнение семантики)

Today оперирует следующими статусами:

- **MIN** — минимальное достаточное действие (успех);
- **BONUS** — расширенное действие (поверх MIN);
- **SKIP** — осознанная пауза (требует комментарий);
- **FAIL** — факт невыполнения (фиксируется, но не продвигается визуально).

Важно:
- `MIN` — это норма;
- `FAIL` — не ошибка;
- отсутствие действия — тоже факт.

---

## 4. Источник истины (SSOT)

Today **не вычисляет состояния сам**.

Единственный источник:

```
GET /today
```

Backend возвращает:
- активный челлендж;
- его `status_view`;
- список всех челленджей дня (для end-state).

UI **строго следует** backend.

---

## 5. Поведение после фиксации

После установки статуса:
- текущий челлендж считается завершённым;
- следующий (если есть) становится активным;
- порядок не редактируется UI.

Today **не возвращает** к предыдущим челленджам.

---

## 6. End-state (подтверждено)

Когда все челленджи дня завершены:

- отображается состояние «На сегодня всё»;
- спокойный поддерживающий текст;
- **нет кнопок**;
- **нет CTA**;
- **нет навигационных подсказок**.

End-state — завершение, а не пауза.

---

## 7. Ограничения экрана Today (жёстко)

Today **НЕ содержит**:
- списков челленджей;
- управления челленджами;
- истории;
- аналитики;
- прогнозов;
- сравнений.

Любые списки — это не Today.

---

## 8. Связь с History (новое)

- Today **не отображает прошлые дни**;
- Today **не агрегирует статистику**;
- Today **не объясняет прогресс**.

History — единственное место ретроспективы.

Today = сейчас.
History = факт.

---

## 9. Пустые и крайние состояния

- Если нет активных челленджей — сразу end-state;
- Если данные недоступны — нейтральное сообщение без тревоги;
- UI не компенсирует отсутствие данных визуальным шумом.

---

## 10. Навигационная роль

- Today — центральный элемент нижнего бара;
- входные точки из других экранов не создают альтернативных сценариев;
- логика Today не меняется в зависимости от точки входа.

---

## 11. Философский якорь

> Today — это не «сделать всё».
> Today — это **разрешить себе сделать достаточно**.

---

## 12. Версионирование

- v1.2 — актуализация после исправления флагов статусов, стабилизации `/today` и синхронизации с History.
- Любые изменения — только через обсуждение смысла.

---

**Канон зафиксирован.**

