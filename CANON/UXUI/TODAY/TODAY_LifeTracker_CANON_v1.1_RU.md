# LifeTracker — TODAY SCREEN CANON v1.1

> **Single Source of Truth (SSOT)** для экрана Today
> Проект: LifeTracker — Telegram Mini App
> Статус: актуален, синхронизирован с реализацией

---

## 1. Назначение экрана Today

Экран **Today** — главный экран продукта LifeTracker.

Его задача:
- поддержать пользователя в текущем дне
- помочь зафиксировать факт действия без давления
- дать ощущение завершённости и движения

Today — это **не отчёт** и **не планировщик**, а точка контакта «здесь и сейчас».

---

## 2. Базовый инвариант Today

- Today показывает **только текущий день**
- прошлое — в History
- будущее — в Templates / New

Today всегда отвечает на вопрос:
> «Что для меня важно сегодня?»

---

## 3. Очередь челленджей (обновлено)

Today работает как **очередь челленджей с действием**:

- на экране всегда **один активный челлендж**
- активным считается первый из очереди `doQueue`
- после фиксации статуса активный челлендж:
  - считается выполненным
  - переносится в «Сегодня выполнено»
  - автоматически показывается следующий

Челленджи из категории **«НЕ ДЕЛАТЬ»** не попадают в очередь действий.

---

## 4. Фокус дня (основной блок)

### 4.1 Состав блока

Блок «Фокус дня» содержит:

- название текущего челленджа
- краткую цель (зачем)
- минимальный шаг (MIN)
- кнопки фиксации статуса

### 4.2 Кнопки фиксации

Доступные статусы:

- **Есть** — минимальный шаг выполнен
- **Сверх** — сделано больше минимума
- **Пауза** — осознанный пропуск (требует причины)

Правила:
- MIN считается успехом
- Pausa требует комментарий
- повторная фиксация блокируется

---

## 5. Фиксация и комментарий

- комментарий опционален для «Есть» и «Сверх»
- комментарий обязателен для «Пауза»
- длина комментария ограничена
- отображается счётчик символов

После сохранения:
- появляется краткое подтверждение
- форма мягко сворачивается
- автоматически показывается следующий челлендж

---

## 6. End-state Today (обновлено)

Если очередь челленджей пуста:

Экран показывает:

- заголовок: **«На сегодня всё»**
- поддерживающее сообщение:
  > «Если хочешь — можешь сделать больше. Это уже бонус, не обязанность.»

В end-state:
- отсутствуют кнопки фиксации
- отсутствуют кнопки выбора цели
- интерфейс не призывает к действию

---

## 7. Блок «Сегодня выполнено»

Назначение блока — **подтверждение прогресса**, а не отчёт.

Правила:

- отображается только если есть выполненные сегодня челленджи
- по умолчанию показывается **до 3 элементов**
- при большем количестве доступно локальное раскрытие «Показать ещё (N)»
- возможно свернуть список обратно
- статусы отображаются **иконками**, без текста

Блок **не содержит навигации** в History.

---

## 8. Entry-points на экране Today

Today может содержать только **тихие точки входа**, но не списки.

Допустимые entry-points:

- **Мои челленджи** — вход к управлению личными челленджами
- **НЕ ДЕЛАТЬ** — вход к челленджам ограничений (если есть)

Entry-point:
- представлен кликабельной карточкой
- не раскрывается в список внутри Today

---

## 9. Навигация

- Today — главный экран приложения
- расположен в центре нижнего навигационного бара
- имеет наибольший визуальный вес

History доступна **только** через нижнюю навигацию.

---

## 10. UX-принципы экрана Today

- интерфейс не торопит
- интерфейс не стыдит
- интерфейс принимает факт
- минимум = достаточно

Today всегда оставляет ощущение:
> «Я сделал то, что мог. Этого достаточно.»

---

**TODAY SCREEN CANON v1.1 — зафиксирован**

